(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[365],{1074:(e,t,l)=>{Promise.resolve().then(l.t.bind(l,7970,23)),Promise.resolve().then(l.bind(l,4245))},4245:(e,t,l)=>{"use strict";l.d(t,{default:()=>i});var a=l(5155);l(2254);var s=l(5565);function r(e){let{placeholder:t,name:l,id:r,image:o,type:c}=e;return(0,a.jsxs)("div",{className:"relative w-full flex justify-start items-center px-11 h-[50px] bg-transparent border-b-2 border-[#BCBDC0]",children:[(0,a.jsx)(s.default,{alt:"ico",width:21,height:21,src:o,className:"absolute top-[14px] left-[14px]"}),(0,a.jsx)("input",{autoComplete:"nope",className:"w-full bg-dark focus:bg-dark active:bg-dark placeholder:bg-dark placeholder:text-[#BCBDC0] placeholder:text-base",type:c,name:l,placeholder:t,id:r})]})}var o=l(7443),c=l(6046),n=l(2115);function i(){let[e,t]=(0,n.useState)(null),l="/";async function s(e){e.preventDefault();let a=JSON.stringify(Object.fromEntries(new FormData(document.getElementById("login"))));try{let e=await fetch("".concat(o.API_HOST,"/auth/jwt/create"),{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:a});if(e.ok){let t=await e.json();window.localStorage.setItem("access",t.access),window.localStorage.setItem("refresh",t.refresh),l="".concat(o.APP_HOST,"/student")}else throw Error(e.status)}catch(e){console.log(e),window.localStorage.clear(),t("Неверная почта или пароль")}finally{(0,c.redirect)(l,"replace")}}return(0,a.jsxs)("section",{className:"relative flex flex-col justify-center items-center gap-[65px] z-10 w-1/2 text-white py-[30px] px-[60px]",children:[(0,a.jsx)("h3",{className:"text-6xl font-title text-center text-nowrap",children:"Войти в аккаунт"}),(0,a.jsx)("p",{className:"text-xl text-center",children:"Введи электронную почту, привязанную к аккаунту Большой Тройки, а также используемый пароль ниже."}),(0,a.jsxs)("form",{id:"login",className:"w-[514px] flex flex-col gap-2.5 items-center",onSubmit:s,children:[e&&(0,a.jsx)("label",{className:"text-base w-full text-left text-red-500",children:e}),(0,a.jsx)(r,{placeholder:"Введите имя пользователя",image:"/FullName.svg",name:"username",id:"usernamesignup",type:"username"}),(0,a.jsx)(r,{placeholder:"Пароль",image:"/Password.svg",name:"password",id:"passwordsignup",type:"password"}),(0,a.jsx)("button",{className:"mt-5 transition-all text-white rounded-full px-10 py-4 text-xl bg-blue hover:bg-active active:bg-active focus:bg-active",children:"Войти"})]})]})}},7443:(e,t,l)=>{"use strict";l.r(t),l.d(t,{API_HOST:()=>s,APP_HOST:()=>a});let a="http://localhost:3000",s="http://localhost:8000"},2254:(e,t,l)=>{"use strict";l.d(t,{A:()=>r});var a=l(5155),s=l(5565);function r(){return(0,a.jsx)(s.default,{alt:"B3 logo",width:198,height:60,src:"/LogoFull.svg"})}}},e=>{var t=t=>e(e.s=t);e.O(0,[738,441,517,358],()=>t(1074)),_N_E=e.O()}]);