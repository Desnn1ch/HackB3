(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[292],{3056:(e,t,s)=>{Promise.resolve().then(s.bind(s,1021))},9951:(e,t,s)=>{"use strict";s.d(t,{A:()=>c});let{API_HOST:a}=s(7443);async function c(){try{let e=await fetch("".concat(a,"/auth/jwt/refresh"),{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorisation:"Bearer "+window.localStorage.getItem("access")},body:JSON.stringify({refresh:window.localStorage.getItem("refresh")})});if(e.ok)return window.localStorage.setItem("access",(await e.json()).access),!0;throw Error(e.status)}catch(e){return console.log(e),!1}}},1792:(e,t,s)=>{"use strict";s.d(t,{A:()=>u});var a=s(5155),c=s(7443),n=s(2254),l=s(2115),i=s(6046),o=s(5565),r=s(8173),d=s.n(r),x=s(9951);function u(){let[e,t]=(0,l.useState)({name:"",isLoad:!1});return(0,l.useEffect)(()=>{(async function(){if(!e.isLoad){let s="";try{let e=await fetch("".concat(c.API_HOST,"/auth/users/me"),{method:"GET",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer "+window.localStorage.getItem("access")}});if(e.ok)t({name:(await e.json()).username,isLoad:!0});else if(401==e.status)await (0,x.A)()?t({name:"",isLoad:!1}):s="".concat(c.APP_HOST,"/auth");else throw Error(e.status)}catch(s){console.log(s),t({name:e.name,isLoad:!0})}finally{""!=s&&(0,i.redirect)(s)}}})()}),(0,a.jsx)("header",{className:"z-50 p-5 w-full fixed",children:(0,a.jsxs)("div",{className:"px-10 py-5 w-full flex justify-between items-center bg-dark rounded-full shadow-base",children:[(0,a.jsx)(n.A,{}),(0,a.jsx)(d(),{href:"".concat(c.APP_HOST,"/student/courses"),className:"px-[30px] py-[15px] rounded-full text-white text-xl border-[1px] border-white",children:"к курсам"}),(0,a.jsx)(h,{})]})})}function h(e){let{name:t}=e,s="#".concat(Math.floor(0xffffff*Math.random()).toString(16).padEnd(6,"0")).toUpperCase();return(0,a.jsxs)("div",{className:"flex gap-5 items-center",children:[(0,a.jsx)("span",{className:"text-white text-xl",children:t}),(0,a.jsx)("div",{className:"w-[60px] h-[60px] rounded-full bg-[".concat(s,"] flex items-center justify-center"),children:(0,a.jsx)(o.default,{alt:"avatar",src:"/UserIco.svg",width:44,height:44})})]})}},7443:(e,t,s)=>{"use strict";s.r(t),s.d(t,{API_HOST:()=>c,APP_HOST:()=>a});let a="http://localhost:3000",c="http://localhost:8000"},2254:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});var a=s(5155),c=s(5565);function n(){return(0,a.jsx)(c.default,{alt:"B3 logo",width:198,height:60,src:"/LogoFull.svg"})}},1021:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u});var a=s(5155),c=s(1792),n=s(5780),l=s(8173),i=s.n(l),o=s(6046),r=s(5565),d=s(7443),x=s(2115);function u(){let e=(0,o.usePathname)().split("/");return e=e[e.length-1],(0,a.jsxs)("main",{className:"relative w-full bg-dark",children:[(0,a.jsx)(c.A,{}),(0,a.jsx)(h,{id:e})]})}function h(e){let{id:t}=e,s=(0,n.A)("/blocks/".concat(t)),[c,l]=(0,x.useState)(!1);return(0,a.jsx)("div",{className:"flex flex-col gap-[30px] w-full p-10 rounedd-[40px] bg-white",children:s.isSuccess?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex w-full justify-between text-dark",children:[(0,a.jsx)(j,{}),(0,a.jsxs)("span",{className:"flex gap-2.5",children:[(0,a.jsx)(r.default,{alt:"deadline",src:"/dedline.svg",width:32,height:32}),(0,a.jsxs)("span",{className:"text-3xl",children:["deadline: ",s.data.dedline]})]})]}),(0,a.jsx)(g,{}),(0,a.jsx)("section",{className:"w-full rounded-[20px] p-5 bg-blue-opacity",children:(0,a.jsx)("p",{className:"text-xl",children:s.data.text_content})}),(0,a.jsx)(g,{}),(0,a.jsx)(w,{video:s.data.video_content,isTest:c}),(0,a.jsx)(g,{}),(0,a.jsx)(f,{isTest:c,setIsTest:l,testContent:test_content.questions})]}):(0,a.jsx)(j,{id:t})})}function f(e){let{isTest:t,setIsTest:s,testContent:c}=e;async function n(e){e.preventDefault();let t=JSON.stringify(Object.fromEntries(new FormData(document.getElementById("test"))));try{let e=await fetch("".concat(d.API_HOST,"/submit/answer"),{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer "+window.localStorage.getItem("access")},body:t});if(e.ok)s(!1);else throw Error(e.status)}catch(e){console.log(e)}}return(0,a.jsxs)("section",{className:"flex flex-col gap-[25px]",children:[(0,a.jsx)("h4",{className:"w-full text-left text-4xl",children:"Тест по изученному материалу"}),t?(0,a.jsx)("div",{className:"text-dark relative rounded-[40px] p-[15px] bg-blue-opacity overflow-y-scroll",children:(0,a.jsxs)("form",{id:"test",className:"flex flex-col items-center gap-[180px] min-h-[636px] rounded-[25px] p-10",onSubmit:n,children:[c.map(e=>(0,a.jsx)(p,{question:e},e.id)),(0,a.jsx)("button",{type:"submit",className:"fixed text-white text-base bg-blue active:bg-active hover:bg-hover bottom-[65px] right-[150px]",children:"Завершить тест"})]})}):(0,a.jsx)("button",{onClick:()=>s(!0),className:"text-white bg-blue hover:bg-active active:bg-active",children:"Начать тест"})]})}function p(e){let{question:t}=e,[s,c]=(0,x.useState)(-1);return(0,a.jsxs)("div",{className:"flex flex-col gap-10 items-center max-w-[964px]",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-[3px]",children:[(0,a.jsxs)("h5",{className:"text-xl font-title font-bold text-[#BCBDC0]",children:["Вопрос ",Number(t.id)+1]}),(0,a.jsx)("p",{className:"text-dark text-xl",children:t.title})]}),(0,a.jsx)(g,{}),(0,a.jsx)("div",{className:"flex flex-col gap-2.5 w-[514px]",children:t.options.map(e=>(0,a.jsx)(m,{answer:e,answerId:s,setAnswer:c,questionId:t.id},e.id))})]})}function m(e,t,s,c){return(0,a.jsxs)("div",{className:"".concat(e.id==t&&"border-l-4 border-r-blue"," flex justify-between items-center rounded-md bg-[#F4F5F8] py-[15px] px-[30px]"),children:[(0,a.jsx)("label",{htmlFor:"",className:"text-base text-[#BCBDC0]",children:e.title}),(0,a.jsx)("input",{id:"question".concat(c,"answer").concat(e),name:"question".concat(c,"answer").concat(e),onChange:function(){e.id==t?s(-1):s(e.id)},type:"checkbox",checked:e.id==t})]})}function w(e){let{video:t,isTest:s}=e;return(0,a.jsxs)("section",{className:"flex flex-col gap-[25px] p-5 items-center",children:[(0,a.jsx)("h5",{className:"text-4xl w-full",children:"Видео"}),(0,a.jsx)("div",{className:"p-5 rounded-[20px] bg-blue-opacity",children:(0,a.jsx)("video",{width:902,height:409,autoPlay:!1,controls:!0,className:"".concat(s&&"pointer-events-none"),children:(0,a.jsx)("source",{src:t,type:"video/mp4"})})})]})}function j(e){let{id:t}=e;return(0,a.jsx)(i(),{className:"",href:"".concat(d.APP_HOST,"/student/courses/"),children:(0,a.jsx)(r.default,{alt:"close",width:30,height:51,src:"/back"})})}function g(){return(0,a.jsx)("div",{className:"min-w-full min-h-[2px] bg-[#C8CDD0] opacity-50"})}},5780:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});var a=s(2115),c=s(9951),n=s(7443);function l(e,t){let[s,l]=(0,a.useState)({data:null,isSuccess:!1,isLoad:!1});return(0,a.useEffect)(()=>{(async function(){if(!s.isLoad){let a="";try{let t=await fetch("".concat(n.API_HOST).concat(e),{method:"GET",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer "+window.localStorage.getItem("access")}});if(t.ok)l({data:await t.json(),isSuccess:!0,isLoad:!0});else if(401==t.status)await (0,c.A)()?l({name:null,isSuccess:!1,isLoad:!1}):a="".concat(n.APP_HOST,"/auth");else throw Error(t.status)}catch(e){console.log(e),l({data:s.data,isSuccess:!1,isLoad:!0}),t&&(a="".concat(n.APP_HOST).concat(t))}finally{""!=a&&redirect(a)}}})()}),s}}},e=>{var t=t=>e(e.s=t);e.O(0,[738,173,441,517,358],()=>t(3056)),_N_E=e.O()}]);